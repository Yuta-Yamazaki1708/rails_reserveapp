<!DOCTYPE html>
<html>
  <head>
    <title>Reserveapp</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <header class="container-fluid">
      <div class="row justify-content-between align-items-center">
        <h2 class="logo col-6"><%= link_to "宿泊施設予約サイト", root_path %></h2>
        <% if user_signed_in? %>
          <div class="drop-down-menu col-2">
            <div class="user-name text-end " id="menu"><%= image_tag current_user.avatar.variant(resize: '20x20'), alt: "アイコン" %><%= current_user.name%></div>
              <ul id="slide-menu">
                <li><%= link_to "新規施設登録", new_room_path %></li>
                <li><%= link_to "登録済施設一覧", rooms_own_path %></li>
                <li><%= link_to "予約一覧", reservations_path %></li>
                <li><%= link_to "アカウント設定", user_account_path %></li>
                <li><%= link_to "ログアウト", destroy_user_session_path, method: :delete %></li>
              </ul>
          </div>
        <% else %>
          <ul class="log-in-menu col-2">
            <li><%= link_to "新規登録", new_user_registration_path %></li>
            <li><%= link_to "ログイン", new_user_session_path %></li>
          </ul>
        <% end %>
      </div>
    </header>
  
    <%= yield %>
    
    <div class="flash-message text-center row justify-content-center">
      <% if flash[:notice] %>
       <p class="notice col-xs-12 col-sm-8 col-md-6"><%= flash[:notice] %></p>
     <% end %>

     <% if flash[:alert] %>
       <p class="alert col-xs-12 col-sm-8 col-md-6"><%= flash.now[:alert] %></p>
     <% end %>
   </div>
    
    <footer>
      <h2 class="logo"><%= link_to "宿泊施設予約サイト", root_path %></h2>
    </footer>
    
  </body>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</html>
